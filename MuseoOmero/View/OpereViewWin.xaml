<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:viewmodels="clr-namespace:MuseoOmero.ViewModelWin"
			 xmlns:effectsView="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
			 xmlns:material="clr-namespace:MuseoOmero.Resources.Material"
			 xmlns:template="clr-namespace:MuseoOmero.View.TemplatesWin"
			 x:Class="MuseoOmero.ViewWin.OpereViewWin"
			 Title="OpereViewWin"
			 x:DataType="viewmodels:OpereViewModelWin">

	<Grid RowDefinitions="120,*">

		<!--TopMenu-->
		<template:TopMenu />

		<!--Center of screen-->
		<ScrollView Grid.Row="1">
			<Grid RowSpacing="30"
				  RowDefinitions="auto,auto"
				  Padding="60,40,60,40"
				  BackgroundColor="{StaticResource Color4}">

				<!--Lista di Opere-->
				<Frame Style="{StaticResource FrameRoundedWin}"
					   BackgroundColor="Transparent"
					   Padding="0">
					<effectsView:SfEffectsView TouchDownEffects="Highlight"
											   BackgroundColor="{StaticResource Color5}"
											   HighlightBackground="Black">
						<Grid RowDefinitions="60,*,26"
							  Padding="26">

							<!--Prima riga-->
							<Grid ColumnDefinitions="62,*,auto"
								  ColumnSpacing="14">

								<!-- + Aggiungi Opera-->
								<Button BackgroundColor="{StaticResource Color1}"
										TextColor="{AppThemeBinding Light={StaticResource Color5}, Dark={StaticResource Color1}}"
										CornerRadius="16"
										Text="+ Aggiungi Opera" />

								<!--Filtro-->
								<Picker Grid.Column="2"
										x:Name="FiltroPicker"
										FontFamily="Lato"
										WidthRequest="100"
										SelectedIndexChanged="Picker_SelectedIndexChanged"
										SelectedItem="{Binding FiltroPickerPickerSelectedItem}">
									<Picker.ItemsSource>
										<x:Array Type="{x:Type x:String}">
											<x:String>Nome</x:String>
											<x:String>DataReg</x:String>
											<x:String>Sala</x:String>
											<x:String>Autore</x:String>
										</x:Array>
									</Picker.ItemsSource>
									<Picker.SelectedIndex>0</Picker.SelectedIndex>
								</Picker>
							</Grid>

							<!--Center content-->
							<ScrollView Grid.Row="1">
								<CollectionView ItemsSource="{Binding OpereFiltrate}">
									
									<!-- ****** TODO ****** -->
									
								</CollectionView>
							</ScrollView>

							<!--Footer-->
							<Grid Grid.Row="2"
								  ColumnDefinitions="24,auto"
								  ColumnSpacing="10">
								<Label Grid.Column="0"
									   FontFamily="MaterialDesignIcons"
									   TextColor="{Binding ForegroundColor}"
									   Text="{Binding TrendingIcon}"
									   FontSize="24"
									   VerticalOptions="Center"
									   HorizontalOptions="Center"></Label>

								<Label Grid.Column="1"
									   TextColor="{Binding ForegroundColor}"
									   FontAttributes="Bold"
									   Text="{Binding UnderContent}"
									   FontSize="16"></Label>
							</Grid>
						</Grid>
					</effectsView:SfEffectsView>
				</Frame>
			</Grid>
		</ScrollView>
	</Grid>
</ContentPage>